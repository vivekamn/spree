<%= render :partial => 'admin/shared/product_sub_menu' %>

<%= error_messages_for :product %>

<% form_for(:product,  :url => collection_url, :html => { :multipart => true }) do |f| %>
<fieldset>

  <% f.field_container :name do %>
    <%= f.label :name, t("name") %> <span class="required">*</span><br />
    <%= f.text_field :name, :class => 'fullwidth title'  %>
    <%= f.error_message_on :name %>
  <% end %>

  <div class="yui-gb">
    <div class="yui-u first">
      <% unless @product.has_variants? %>
        <% f.field_container :sku do %>
          <%= f.label :sku, t("sku") %><br />
          <%= f.text_field :sku, :size => 16 %>
          <%= f.error_message_on :sku %>
        <% end %>
      <% end %>


      <p>
        <%= f.label :prototype_id, t("prototype") %><br />
        <%= f.collection_select :prototype_id, Prototype.all, :id, :name, :include_blank => true %>
      </p>

    </div>
    <div class="yui-u">

      <% f.field_container :price do %>
        <%= f.label :price, t("master_price")%> <span class="required">*</span><br />
        <%= f.text_field :price  %>
        <%= f.error_message_on :price%>
      <% end %>

      <p>
        <%= f.label :available_on, t("available_on") %><span class="required">*</span><br />
        <%= f.error_message_on :available_on %>
        <%= f.unobtrusive_date_text_picker :available_on, :style=>"width:150px" %>
      </p>


    </div>
    <div class="yui-u">

      <% f.field_container :discount do %>
        <%= f.label :discount, t("discount") %> <span class="required">*</span><br />
        <%= f.text_field :discount  %>
        <%= f.error_message_on :discount%>
      <% end %>

      <p>
        <%= f.label :minimum_number, t("minimum_number") %><span class="required">*</span><br />
        <%= f.text_field :minimum_number %>
        <%= f.error_message_on :minimum_number%>
      </p>
	  
	 
    </div>    
  </div>
  <div class="yui-gb">
    <div class="yui-u first">
     <% f.field_container :deal_expiry_date do %>
        <%= f.label :deal_expiry_date, t("deal_expiry_date")%> <span class="required">*</span><br />
        <%= f.error_message_on :deal_expiry_date%>
        <%= f.unobtrusive_date_text_picker :deal_expiry_date, :style=>"width:150px" %>
      <% end %>

      <p>
        <%= f.label :validity_to, t("validity_to") %><span class="required">*</span><br />
        <%= f.error_message_on :validity_to %>
        <%= f.unobtrusive_date_text_picker :validity_to, :style=>"width:150px" %>
      </p>      
    </div>
   <div class="yui-u">
	 <p>
      <% f.field_container :validity_from do %>
        <%= f.label :validity_from, t("validity_from")%> <span class="required">*</span><br />
        <%= f.error_message_on :validity_from%>
        <%= f.unobtrusive_date_text_picker :validity_from, :style=>"width:150px" %>
      <% end %>
	 </p>
	 <p>
        <%= f.label :vendor_id, t("vendor") %><span class="required">*</span><br />
        <%= f.collection_select :vendor_id, Vendor.all, :id, :name, :include_blank => true %> <%= link_to "Add a Vendor", :controller=>'admin/vendors', :action=>'index'%>
     </p>
    </div> 
	
	<div class="yui-u">
		 <p>
        <%= f.label :maximum_number, t("maximum_number") %><span class="required">*</span><br />
        <%= f.text_field :maximum_number %>
        <%= f.error_message_on :maximum_number%>
      </p>
	  
	</div>
  </div>


  <%= render :partial => 'admin/shared/new_resource_links' %>

</fieldset>
<% end %>
<%= javascript_tag "datePickerController.create();" %>
